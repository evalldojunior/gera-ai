<div class="dashboard">
<nav class="navbar navbar-expand-lg" id="mainNav">
		<div class="container-fluid">
			<a class="navbar-brand" href="/" id="brand">
                <span>gera</span>
                <span>ai</span>
            </a>
			
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</nav>
<div class="container" id="principal">
    <div id="player">
        <audio id="musica" controls>
            <source type="audio/mp4" id="audioSource">
            Seu navegador não suporta a tag de áudio.
        </audio>
    </div>
        
    <div id="prompts">
        <form id="form" method="post">
            <div id="form-group">
                <div id="inputsBasicos">
                    <div id="inputTempoInicio" class="inputTempo">
                        <label for="promptInicio" class="labelInputTempo">de</label>
                        <input id="promptInicio" type="number" name="inicio" placeholder="00:00">
                    </div>

                    <div id="inputTempoFim" class="inputTempo">
                        <label for="fim" class="labelInputTempo">até</label>
                        <input id="promptFim" type="number" name="fim" placeholder="00:00">
                    </div>

                    <div id="inputPromptText" class="inputPrompt">
                        <textarea 
                            class="form-control" 
                            name="prompt" id="inputPromptTextStyle" 
                            cols="140" 
                            rows="2" 
                            placeholder="Digite seu prompt aqui"
                            ></textarea>
                    </div>
                </div>

                <div class="iconesConfiguracoesExtras displayNoneElement">  
                    <span id="configuracoesExtras" class="configuracoesExtrasStyle">
                        <span id="configExtras" class="configExtrasStyle" onclick="configuracoesExtras(this)">
                            <i class="fa-solid fa-bars fa-lg" style="color: #8d8d8d;"></i>
                        </span>

                        <span id="excluirPrompt" class="excluirPromptStyle" onclick="excluirPrompt(this)">
                            <i class="fa-solid fa-trash-can" style="color: #8d8d8d;"></i>
                        </span>
                    </span>
                </div>

                <div id="todosInputsExtras">
                    <div id="inputsExtras" class="inputsExtrasStyle">
                        <div class="textInputsExtras">
                            <span>configurações do prompt</span>
                        </div>

                        <span id="btnFechar" class="btnFecharStyle" onclick="configuracoesExtras(this)">
                            <i class="fa-solid fa-xmark fa-lg" style="color: #fff;"></i>
                        </span>
    
                        <div id="inputExtraAngulo" class="inputExtraRange">
                            <label for="angulo">ângulo</label>
                            <input type="range" name="angulo" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraZoom" class="inputExtraRange">
                            <label for="zoom">zoom</label>
                            <input type="range" name="zoom" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraEixoX" class="inputExtraRange">
                            <label for="eixoX">movimento (eixo x)</label>
                            <input type="range" name="eixoX" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraEixoY" class="inputExtraRange">
                            <label for="eixoY">movimento (eixo y)</label>
                            <input type="range" name="eixoY" min="-4" max="4">
                        </div>
    
                        <button id="btnConfExtras">aplicar configurações</button>
                    </div>
                </div>
            </div>

            <div id="inputsConfiguracoesExtrasGerais">
                    <div id="inputsExtrasGerais" class="inputsExtrasStyle">
                        <div class="textInputsExtras">
                            <span>configurações do video</span>
                        </div>

                        <span id="btnFechar" class="btnFecharStyle" onclick="configuracoesExtras(this)">
                            <i class="fa-solid fa-xmark fa-lg" style="color: #fff;"></i>
                        </span>
    
                        <div id="inputExtraAngulo" class="inputExtraRange">
                            <label for="angulo">ângulo</label>
                            <input type="range" name="anguloFinal" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraZoom" class="inputExtraRange">
                            <label for="zoom">zoom</label>
                            <input type="range" name="zoomFinal" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraEixoX" class="inputExtraRange">
                            <label for="eixoX">movimento (eixo x)</label>
                            <input type="range" name="eixoXFinal" min="-4" max="4">
                        </div>
    
                        <div id="inputExtraEixoY" class="inputExtraRange">
                            <label for="eixoY">movimento (eixo y)</label>
                            <input type="range" name="eixoYFinal" min="-4" max="4">
                        </div>
    
                        <button id="btnConfExtras">aplicar configurações</button>
                    </div>
                </div>
        
            <div id="promptsExtras">
            </div>

            <div class="modal fade" id="gerarVideoModal" tabindex="-1" aria-labelledby="gerarVideoModalLabel" aria-hidden="true">
                <div class="modal-dialog" id="modalDialogCustom">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title" id="gerarVideoModalLabel">gerar video</h1>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>

                            <div class="modal-header">
                                <h4 class="modal-title" id="gerarVideoModalLabel">precisamos apenas de algumas informações:</h4>
                            </div>
                            
                            <div class="modal-body">
                                <div>
                                    <label class="labelInputModal" for="linkTokenReplicate">token do replicate</label>
                                    <input class="inputModal" type="password" id="linkTokenReplicate" name="linkTokenReplicate" placeholder="inserir token do replicate">
                                </div>

                                <div>
                                    <label class="labelInputModal" for="emailUsuario">e-mail</label>
                                    <input class="inputModal" type="text" id="emailUsuario" name="emailUsuario" placeholder="inserir e-mail">
                                </div>
                            </div>
                            
                            <div class="modal-footer">
                                <div>
                                    <p>
                                        OBS: a geração do vídeo pode demorar. também enviaremos o link do vídeo gerado para o email inserido após a conclusão.
                                    </p>
                                </div>
                                <button id="btnGerarVideoModal" class="btnForm" type="submit">gerar video</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <div id="areaLetraMusica">
            <div id="divAreaLetraMusica" class="inputsExtrasStyle">
                <div class="textInputsExtras" style="margin-bottom: 70px;">
                    <span>adicionar letra da música</span>
                </div>

                <span id="btnFechar" class="btnFecharStyle" onclick="exibirLetraMusica()">
                    <i class="fa-solid fa-xmark fa-lg" style="color: #fff;"></i>
                </span>
                
                <div class="divInputLetraMusica">
                    <label for="letraMusica" style="margin-bottom: 10px;">letra da música</label>
                    <textarea id="letraMusica" name="letraMusica" rows="19" cols="45"></textarea>
                </div>

                <div class="divBtnAdicionarMusica">
                    <button class="btnAdicionarMusica" onclick="exibirLetraMusica()">adicionar</button>
                </div>
            </div>
        </div>    

        {{#if data}}
            <div id="resposta"> {{data.detail}} </div>
            <div class="modal fade" id="verificarVideoModal" tabindex="-1" aria-labelledby="verificarVideoModalLabel" aria-hidden="true">
                <div class="modal-dialog" id="modalDialogCustom">
                    {{#if data.output}}
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title" id="verificarVideoModalLabel">video pronto!</h1>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>

                            <div class="modal-body">
                                <div class="videoReplicate">
                                    <video autoplay controls>
                                        <source src={{data.output}} type="video/mp4">
                                    </video>
                                </div>
                            </div>

                            <div class="modal-footer">
                                    <button id="btnVerificarVideoModal" class="btnForm" type="submit">verificar video</button>
                            </div>
                        </div>
                       
                    {{else}}
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title" id="verificarVideoModalLabel">gerar video</h1>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>

                            <div class="modal-header">
                                loading aqui!
                            </div>

                            <div class="modal-header">
                                <h4 class="modal-title" id="verificarVideoModalLabel">video sendo gerado...</h4>
                            </div>

                            <div class="modal-header">
                                <h4 class="modal-title" id="verificarVideoModalLabel">identificador do vídeo: <span>{{data.id}}</span></h4>
                            </div>

                            <div class="modal-header">
                                <p>
                                    por favor, aguarde alguns minutos enquanto seu vídeo é gerado.
                                    para verificar se seu vídeo já foi gerado, utilize o campo de busca abaixo junto com o identificador do vídeo.
                                    o identificador do vídeo gerado também será enviado para o email inserido.
                                </p>
                            </div>
                                        
                            <form action="/output" method="post">
                                <div class="modal-body">
                                    <h6>verificar conclusão do vídeo</h6>
                                    <div>
                                        <label class="labelInputModal" for="idVideoReplicate">id do video</label>
                                        <input class="inputModal" type="text" id="idVideoReplicate" name="idVideoReplicate" placeholder="xxxxxxxxxxxxxxxxxxxxxxx">                            
                                    </div>
                                </div>
                                        
                                <div class="modal-footer">
                                    <button id="btnVerificarVideoModal" class="btnForm" type="submit">verificar video</button>
                            </form>

                                <button id="btnBaixarVideoModal" class="btnForm">baixar projeto</button>
                            </div>
                        </div>
                    {{/if}}
                </div>
            </div>
        {{/if}}

        <button id="btnGerar" class="btnForm" data-bs-toggle="modal" data-bs-target="#gerarVideoModal">gerar vídeo</button>
        <button id="btnRecuperarVideo" class="btnForm" data-bs-toggle="modal" data-bs-target="#verificarVideoModal">gerar vídeo</button>
        
        
        <div id="divBtnNovoPrompt">
            <button id="btnNovoPrompt" onclick="novoPrompt()" class="btnForm" >+ adicionar entrada</button>
        </div>
    </div>        
</div>



<footer class="barraNavegacaoRodapeStyle" id="barraNavegacaoRodape">
  <nav class="navbar navbar-expand-lg" id="navbarRodape">
		<div class="container-fluid">
			<div class="collapse navbar-collapse">
				<div class="navbar-nav iconesBarraRodape">
                    <span class="nav-link">
                        <label for="inputAudioSource">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-music-note-beamed" viewBox="0 0 16 16">
                                <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"/>
                                <path fill-rule="evenodd" d="M14 11V2h1v9h-1zM6 3v10H5V3h1z"/>
                                <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"/>
                            </svg>
                        </label>
                        <input type="file" id="inputAudioSource" accept="audio/*">
                    </span>
					<a class="nav-link" onclick="configuracoesExtrasGerais()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-filter" viewBox="0 0 16 16">
                            <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                        </svg>
                    </a>
					<a class="nav-link" onclick="exibirLetraMusica()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chat-left-quote" viewBox="0 0 16 16">
                            <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                            <path d="M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
                        </svg>
                    </a>
					<a class="nav-link" onclick="exportarPrompt()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                    </a>
				</div>
			</div>

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</nav>
</footer>
</div>